Generate the file with this line:

DATA

hltGetConfiguration /users/kmcdermo/TestDev/GRunDisplacedPhotonHT_Full/V2 --full --offline --prescale 1.35e34 --no-output --process TEST --l1-emulator 'uGT' --l1Xml L1Menu_Collisions2016_v9_m2.xml --data --globaltag auto:run2_hlt_GRun --input /store/data/Run2016H/SinglePhoton/RAW/v1/000/283/885/00000/32F9297A-4B9D-E611-B83E-02163E01458F.root --max-events 100 > hlt_L1uGT.py

MC

hltGetConfiguration /users/kmcdermo/TestDev/DisplacedPhoton_8_0_24/V4 --full --offline --unprescale --no-output --process TEST --l1-emulator 'uGT' --l1Xml L1Menu_Collisions2016_v9_m2.xml --mc --globaltag auto:run2_mc_GRun --input /store/user/kmcdermo/GMSB_L180_Ctau6000_Pythia8_13TeV_cff_py_GEN_SIM/GMSB_L180_Ctau6000_userHLT_DIGI_L1_DIGI2RAW_HLT_PU-RAWSIM-v1/170303_001725/0000/DIGI_L1_DIGI2RAW_HLT_PU-RAWSIM_1.root --max-events 100 > hlt_L1uGT_mc.py

---------

Then open up the file and add the following lines after declaration of process:

process.load("setup_cff")

process.load("HLTrigger.HLTanalyzers.HLTBitAnalyser_cfi")                                                                                
process.hltbitanalysis.HLTProcessName = cms.string(process.name_() )                                                                     
process.hltbitanalysis.hltresults = cms.InputTag( 'TriggerResults','',process.name_())                                                   
process.hltbitanalysis.l1results = cms.InputTag('hltGtStage2Digis', '', process.name_())                                   
process.hltbitanalysis.RunParameters.HistogramFile = cms.untracked.string('hltbits.root')                           
process.hltbitanalysis.RunParameters.isData = cms.untracked.bool(True) ### uncomment this one only to process Data !!!
process.HLTBitAnalysisEndpath = cms.EndPath( process.hltbitanalysis )

---------

Make sure to add this too:

Then you need to add **ONLY** "process.HLTBitAnalysisEndpath" to the end of the "Scheduler":

process.HLTSchedule = cms.Schedule( *(process.HLTriggerFirstPath, [...] , process.HLTBitAnalysisEndpath ))

--------

Then comment out the following line (near the very end of the python script):

process.DQMOutput = cms.EndPath( process.dqmOutput )

--------

Lastly, add the following lines to the very end:

process.load('L1Trigger.L1TGlobal.hackConditions_cff')
process.L1TGlobalPrescalesVetos.PrescaleXMLFile = cms.string('UGT_BASE_RS_PRESCALES_v214.xml') 
process.L1TGlobalPrescalesVetos.FinOrMaskXMLFile = cms.string('UGT_BASE_RS_FINOR_MASK_v91.xml')
process.simGtStage2Digis.AlgorithmTriggersUnmasked = cms.bool(False)
process.simGtStage2Digis.AlgorithmTriggersUnprescaled = cms.bool(False)
process.simGtStage2Digis.PrescaleSet = cms.uint32(3) #### change this to '1' if using --prescale emergency (i.e. 1p6e34)
